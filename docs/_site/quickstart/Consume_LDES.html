<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Consume an LDES | Technical Documentation</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Consume an LDES" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Consume an LDES" /> <meta property="og:description" content="Consume an LDES" /> <link rel="canonical" href="http://localhost:4000/quickstart/Consume_LDES" /> <meta property="og:url" content="http://localhost:4000/quickstart/Consume_LDES" /> <meta property="og:site_name" content="Technical Documentation" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2024-02-21T10:58:00+01:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Consume an LDES" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-02-21T10:58:00+01:00","datePublished":"2024-02-21T10:58:00+01:00","description":"Consume an LDES","headline":"Consume an LDES","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/quickstart/Consume_LDES"},"url":"http://localhost:4000/quickstart/Consume_LDES"}</script> <!-- End Jekyll SEO tag --> <div class="test-header" data-v-df634f57="" data-v-7a7a37b1=""> <div class="global-header" data-v-df634f57=""><img src="/assets/images/LOGO_Vlaanderen_NIV2.svg" alt="Vlaanderen" data-v-df634f57=""><img class="small-global-header-divider" src="/assets/images/divider_globalheader.svg" alt="divider" data-v-df634f57=""><span class="header-title header-font" data-v-df634f57="">Vlaamse Smart Data Space</span><span class="spacer" data-v-df634f57=""></span> <div id="help-needed" data-v-df634f57=""><span class="header-font" data-v-df634f57="">Hulp nodig</span><a id="help" href="https://www.vlaanderen.be/vlaamse-smart-data-space-portaal/contact"><img class="question-menu-item" src="/assets/images/question-mark.svg" alt="?" data-v-df634f57=""></a></div> </div> <hr class="divider" data-v-df634f57=""> </div> <div class="navbar navbar-fixed-top"> <div class="navbar-inner"> <div class="container-fluid"> <a href="https://informatievlaanderen.github.io/VSDS-Tech-Docs/"> <button type="button" class="btn btn-navbar custom-border-activated" > <span class="nav-icon-bar">Home</span> </button> </a> <a href="https://github.com/Informatievlaanderen/VSDS-Onboarding-Example"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">Tutorial</span> </button> </a> <a href="https://informatievlaanderen.github.io/VSDS-Linked-Data-Interactions/"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">Linked Data Interactions</span> </button> </a> <a href="https://informatievlaanderen.github.io/VSDS-LDESServer4J/"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">LDES server</span> </button> </a> <a href="https://informatievlaanderen.github.io/VSDS-Linked-Data-Interactions/ldio/ldio-inputs/ldio-ldes-client"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">LDES client</span> </button> </a> <a href="https://www.vlaanderen.be/vlaamse-smart-data-space-portaal/blog"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">Blog posts</span> </button> </a> <a href="https://informatievlaanderen.github.io/OSLO-mapping/"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">OSLO mapping</span> </button> </a> </div> </div> </div> <style> #help-needed[data-v-df634f57] { display: flex; align-items: center; gap: 5px; background-image: url(https://informatievlaanderen.github.io/OSLO-mapping/assets/images/hulp_nodig.svg); width: 144px; height: 44px; } .custom-border-activated { background-color: rgb(255, 230, 21); } .custom-border { border: 0.3px solid rgb(0, 200, 171); /* Randkleur */ /* Voeg hier eventueel andere stijlelementen toe */ } .navbar-fixed-top .navbar-inner { margin-top:30px; height: 35px; padding: 0; border-top: 1px solid #d4d4d4; z-index: 1000; position: fixed; right:0px; } @media (min-width: 50rem) .navbar-fixed-top { position: relative !important; width: auto !important; height: 100% !important; padding: 0; transition: none; } .global-header[data-v-df634f57] { display: flex; margin-left: 0px; align-items: center; position: fixed; width: 100%; background-color: white; z-index: 100; } .test-header{ margin-bottom: 20px; overflow:hidden; z-index: 100; } element.style { } .small-global-header-divider[data-v-df634f57] { margin: 0 8px 0 4px; } .header-font { color: #333332; font-family: Flanders Art Sans, sans-serif; font-size: 12px; font-style: normal; font-weight: 500; line-height: normal; letter-spacing: 0.5px; text-transform: uppercase; } .spacer { flex-grow: 1; } .divider { border: 1px solid #8f8f8f66; margin: 0; } #help-needed > span[data-v-df634f57] { margin-left: 25px; } /* title of the site */ #header { height: 80px; } #header hgroup { position: absolute; top: 10px; left: 20px; } #header h1 { margin: 0; font-size: 1.75em; font-weight: bold; } #header h2 { color: #ccc; margin: 0 0 4px 16px; line-height: 0.8; font-size: 1.0em; font-weight: normal; } #header a, #header a:hover, #header a:visited { text-decoration: none; } .navbar .nav > .active > a, .navbar .nav > .active > a:hover, .navbar .nav > .active > a:focus { box-shadow: none; } .navbar .btn-navbar { margin-bottom: 5px; } </style> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Technical Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li></ul> <div class="nav-category">Basic concepts</div> <ul class="nav-list"><li class="nav-list-item"><a href="/introduction/linked_data" class="nav-list-link">Basic concept Linked Data</a></li><li class="nav-list-item"><a href="/introduction/Introduction" class="nav-list-link">Introduction to LDES</a></li><li class="nav-list-item"><a href="/introduction/LDES_server" class="nav-list-link">Publish an LDES</a></li><li class="nav-list-item"><a href="/introduction/LDES_client" class="nav-list-link">Replication and synchronisation</a></li><li class="nav-list-item"><a href="/introduction/Specification" class="nav-list-link">Specification</a></li></ul> <div class="nav-category">Quickstart</div> <ul class="nav-list"><li class="nav-list-item active"><button class="nav-list-expander btn-reset" aria-label="toggle items in Quick start category" aria-pressed="true"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/quickstart/Quickstart" class="nav-list-link">Quick start</a><ul class="nav-list"><li class="nav-list-item active"><a href="/quickstart/Consume_LDES" class="nav-list-link active">Consume an LDES</a></li><li class="nav-list-item "><a href="/quickstart/Publish_LDES" class="nav-list-link">Publish an LDES</a></li></ul></li><li class="nav-list-item"><a href="/quickstart/LDES2services" class="nav-list-link">LDES2Service</a></li><li class="nav-list-item"><a href="/quickstart/Use_case_LDES_server" class="nav-list-link">Use case LDES server</a></li></ul> <div class="nav-category">Release Management</div> <ul class="nav-list"><li class="nav-list-item"><a href="/release/Release_Management" class="nav-list-link">Release management</a></li></ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Technical Documentation" aria-label="Search Technical Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/quickstart/Quickstart">Quick start</a></li> <li class="breadcrumb-nav-list-item"><span>Consume an LDES</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="consume-an-ldes"> <a href="#consume-an-ldes" class="anchor-heading" aria-labelledby="consume-an-ldes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Consume an LDES </h1> <p class="note"><em>The purpose of the quick start try-out is solely to create _<a href="https://github.com/Informatievlaanderen/VSDS-LDESServer4J/tree/main/ldes-fragmentisers/ldes-fragmentisers-pagination">Pagination fragmentation</a></em> for the self-generated data type to <em><a href="https://semiceu.github.io/LinkedDataEventStreams/">LDES format</a></em>. To support other fragments, data types, or other features, e.g., retention, caching, etc., please consult <em><a href="https://github.com/Informatievlaanderen/VSDS-LDESServer4J">LDES Server Manual</a></em> for the configurations._</p> <p><a href="https://www.vlaanderen.be/digitaal-vlaanderen/onze-oplossingen/vlaamse-smart-data-space">Vlaamse Smart Data Space</a>_ projects also provide methods for transforming data to *<a href="https://semiceu.github.io/LinkedDataEventStreams/">LDES format</a><em>, e.g. from _<a href="https://vloca-kennishub.vlaanderen.be/NGSI-v2">NGSI-V2</a>* to *<a href="https://en.wikipedia.org/wiki/NGSI-LD">NGSI-LD</a></em>, from NGSI to <em><a href="https://www.vlaanderen.be/digitaal-vlaanderen/onze-oplossingen/oslo">OSLO</a></em> Model, from <em><a href="https://vloca-kennishub.vlaanderen.be/NGSI-v2">NGSI-V2</a></em> to _<a href="https://semiceu.github.io/LinkedDataEventStreams/">LDES (LinkedDataEventStreams)</a>.</p> <p class="tip">Having trouble implementing this example? Please post your issue on the <a href="https://github.com/Informatievlaanderen/VSDS-Tech-Docs/issues">VSDS Tech docs repo</a>.</p> <p>In this short example below, we show you how the components of the VSDS can be used to link multiple data streams across domains and systems using LDES. The whole story can be read here: <a href="https://pub.towardsai.net/real-time-data-linkage-via-linked-data-event-streams-e1aab3090b40">Real-Time Data Linkage via Linked Data Event Streams</a></p> <h2 id="before-starting"> <a href="#before-starting" class="anchor-heading" aria-labelledby="before-starting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Before starting </h2> <ol> <li><a href="https://docker.com/">Docker</a> has been installed on your device.</li> <li>Local Ports 8443 and 7200 are accessible.</li> </ol> <h2 id="start-your-ldes-workbench"> <a href="#start-your-ldes-workbench" class="anchor-heading" aria-labelledby="start-your-ldes-workbench"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Start your LDES workbench </h2> <ol> <li>Create a local <a href="https://github.com/samuvack/ldes-grar/blob/main/docker-compose.yml">docker-compose.yml</a> file with the following content, or you could use the current good-to-go <a href="https://github.com/samuvack/ldes-grar">GetStarted GRAR project</a>:</li> </ol> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s">‘3’</span>
<span class="na">volumes</span><span class="pi">:</span>
  <span class="na">nifi-database-repository</span><span class="pi">:</span>
  <span class="na">nifi-flowfile-repository</span><span class="pi">:</span>
  <span class="na">nifi-content-repository</span><span class="pi">:</span>
  <span class="na">nifi-provenance-repository</span><span class="pi">:</span>
  <span class="na">nifi-state</span><span class="pi">:</span>
  <span class="na">nifi-logs</span><span class="pi">:</span>
  <span class="na">nifi-nars</span><span class="pi">:</span>
  <span class="na">nifi-conf</span><span class="pi">:</span>
<span class="na">networks</span><span class="pi">:</span>
  <span class="na">front-tier</span><span class="pi">:</span>
    <span class="na">driver</span><span class="pi">:</span> <span class="s">bridge</span>
  <span class="na">back-tier</span><span class="pi">:</span>
    <span class="na">driver</span><span class="pi">:</span> <span class="s">bridge</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">nifi</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">ghcr.io/informatievlaanderen/ldes-workbench-nifi:20230214T123440</span> <span class="c1">#20221109T103745</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">nifi-graph</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="c1"># HTTPS</span>
      <span class="pi">-</span> <span class="s">8443:8443/tcp</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./nifi-extensions:/opt/nifi/nifi-current/extensions</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">NIFI_UI_PORT=8443</span>
      <span class="pi">-</span> <span class="s">SINGLE_USER_CREDENTIALS_USERNAME=admin</span>
      <span class="pi">-</span> <span class="s">SINGLE_USER_CREDENTIALS_PASSWORD=admin123456789</span>
      <span class="pi">-</span> <span class="s">NIFI_WORKFLOW_LISTEN_PORT=9005</span>
      <span class="pi">-</span> <span class="s">NIFI_JVM_HEAP_INIT=8g</span>
      <span class="pi">-</span> <span class="s">NIFI_JVM_HEAP_MAX=8g</span>
  <span class="na">graphdb</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">ontotext/graphdb:10.0.2</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">graphdb3</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="c1"># HTTP</span>
      <span class="pi">-</span> <span class="s">7200:7200</span>
</code></pre></div></div> <p>To begin, the command for launching GraphDb and Apache NiFi within a docker container is as follows:</p><pre><code class="language-source-shell">docker compose up --build
</code></pre><p>Apache Nifi runs on port 8443:8443/tcp :<a href="https://localhost:8443/">https://localhost:8443</a><br /> GraphDB runs on port 7200 :7200/tcp : <a href="http://localhost:7200/">http://localhost:7200</a></p> <p>A data flow can be built up by dragging in building blocks in the graphical user interface of Apache NiFi. This docker container contains all the components out the latest version of the LDES workbench (e.g., latest LDES Client, LDES server, etc.). Every data stream can be transformed into a Linked Data Event Stream with a conversion data flow.</p> <h2 id="starting-from-a-published-ldes"> <a href="#starting-from-a-published-ldes" class="anchor-heading" aria-labelledby="starting-from-a-published-ldes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Starting from a published <a href="https://semiceu.github.io/LinkedDataEventStreams/">LDES</a> </h2> <p>In this example, we start from published LDES</p> <div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@prefix</span><span class="w"> </span><span class="nn">conceptscheme:</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/id/conceptscheme/&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">generiek:</span><span class="w">      </span><span class="nl">&lt;https://data.vlaanderen.be/ns/generiek#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">geosparql:</span><span class="w">     </span><span class="nl">&lt;http://www.opengis.net/ont/geosparql#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">ldes:</span><span class="w">          </span><span class="nl">&lt;https://w3id.org/ldes#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">locn:</span><span class="w">          </span><span class="nl">&lt;https://www.w3.org/ns/locn#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">prov:</span><span class="w">          </span><span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">rdf:</span><span class="w">           </span><span class="nl">&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">relation:</span><span class="w">      </span><span class="nl">&lt;http://www.iana.org/assignments/relation/&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">terms:</span><span class="w">         </span><span class="nl">&lt;http://purl.org/dc/terms/&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">tree:</span><span class="w">          </span><span class="nl">&lt;https://w3id.org/tree#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nn">https:</span><span class="n">//data</span><span class="p">.</span><span class="n">vlaanderen</span><span class="p">.</span><span class="n">be/id/adres/1658513
</span><span class="w">        </span><span class="nn">relation:</span><span class="n">self</span><span class="w">  </span><span class="s">"https://api.basisregisters.staging-vlaanderen.be/v2/adressen/1658513"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="p">[</span><span class="w"> </span><span class="nn">https:</span><span class="n">//data</span><span class="p">.</span><span class="n">vlaanderen</span><span class="p">.</span><span class="n">be/ns/gebouw</span><span class="c1">#bestaatUit</span><span class="w">
          </span><span class="nl">&lt;https://data.vlaanderen.be/id/gebouweenheid/17631816/2022-06-27T16:23:49+02:00&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">
  </span><span class="nn">generiek:</span><span class="n">lokaleIdentificator</span><span class="w">  </span><span class="s">"17631524"</span><span class="p">]</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="p">[</span><span class="w"> </span><span class="nn">https:</span><span class="n">//data</span><span class="p">.</span><span class="n">vlaanderen</span><span class="p">.</span><span class="n">be/ns/gebouw</span><span class="c1">#bestaatUit</span><span class="w">
</span><span class="nl">&lt;https://data.vlaanderen.be/id/gebouweenheid/6311633/2022-06-27T16:23:48+02:00&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">  </span><span class="nn">generiek:</span><span class="n">lokaleIdentificator</span><span class="w">  </span><span class="s">"6310652"</span><span class="p">]</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nn">https:</span><span class="n">//data</span><span class="p">.</span><span class="n">vlaanderen</span><span class="p">.</span><span class="nn">be/id/gebouweenheid/14539518/2022-06-27T16:</span><span class="mi">23</span><span class="nn">:</span><span class="mi">32+02</span><span class="nn">:</span><span class="mi">00</span><span class="w">
   </span><span class="nn">rdf:</span><span class="n">type</span><span class="w">                      </span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#Gebouweenheid&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">
        </span><span class="nn">terms:</span><span class="n">isVersionOf</span><span class="w">             </span><span class="nl">&lt;https://data.vlaanderen.be/id/gebouweenheid/14539518&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">        </span><span class="nn">prov:</span><span class="n">generatedAtTime</span><span class="w">          </span><span class="s">"2022-06-27T16:23:32+02:00"</span><span class="p">^^</span><span class="nl">&lt;http://www.w3.org/2001/XMLSchema#dateTime&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#Gebouweenheid.adres&gt;</span><span class="w">                </span><span class="nl">&lt;https://data.vlaanderen.be/id/adres/5162364&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">        </span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#Gebouweenheid.geometrie&gt;</span><span class="w">
                </span><span class="p">[</span><span class="w"> </span><span class="nn">conceptscheme:</span><span class="n">geometriemethode</span><span class="w">  </span><span class="nn">conceptscheme:</span><span class="n">aangeduidDoorBeheerder</span><span class="w"> </span><span class="p">;</span><span class="w">                  </span><span class="nn">locn:</span><span class="n">geometry</span><span class="w">                   </span><span class="p">[</span><span class="w"> </span><span class="nn">geosparql:</span><span class="n">asGML</span><span class="w">                                    </span><span class="s">"&lt;gml:Point srsName=\"http://www.opengis.net/def/crs/EPSG/0/31370\" xmlns:gml=\"http://www.opengis.net/gml/3.2\"&gt;&lt;gml:pos&gt;200647.71 210393.46&lt;/gml:pos&gt;&lt;/gml:Point&gt;"</span><span class="p">^^</span><span class="nn">geosparql:</span><span class="n">gmlLiteral</span><span class="w"> </span><span class="p">]</span><span class="w">                </span><span class="p">]</span><span class="w"> </span><span class="p">;</span><span class="w">        </span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#Gebouweenheid.status&gt;</span><span class="w">
                </span><span class="nn">conceptscheme:</span><span class="n">gerealiseerd</span><span class="w"> </span><span class="p">;</span><span class="w">       </span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#functie&gt;</span><span class="w">                </span><span class="nn">conceptscheme:</span><span class="n">nietGekend</span><span class="w"> </span><span class="p">;</span><span class="w">
        </span><span class="nn">generiek:</span><span class="n">lokaleIdentificator</span><span class="w">  </span><span class="s">"14539518"</span><span class="w"> </span><span class="p">;</span><span class="w">        </span><span class="nn">generiek:</span><span class="n">naamruimte</span><span class="w">           </span><span class="s">"https://data.vlaanderen.be/id/gebouweenheid"</span><span class="w"> </span><span class="p">;</span><span class="w">        </span><span class="nn">generiek:</span><span class="n">versieIdentificator</span><span class="w">  </span><span class="s">"2022-06-27T16:23:32+02:00"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;https://data.vlaanderen.be/id/adres/2213034&gt;</span><span class="w">        </span><span class="nn">relation:</span><span class="n">self</span><span class="w">  </span><span class="s">"https://api.basisregisters.staging-vlaanderen.be/v2/adressen/2213034"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div> <h2 id="consuming-an-ldes"> <a href="#consuming-an-ldes" class="anchor-heading" aria-labelledby="consuming-an-ldes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Consuming an LDES </h2> <p>For this purpose, the three Linked Data Event streams are stored in a <a href="https://graphdb.ontotext.com/">GraphDB</a> to facilitate efficient and effective data consumption. GraphDB supports complex semantic queries and inference, making discovering meaningful relationships between different data sources possible.</p> <p><img src="../images/LdesToGrapDB.PNG" alt="Afbeelding met grafiek Automatisch gegenereerde beschrijving" /></p> <ol> <li> <p>Start Apache NiFi on localhost:8433</p> </li> <li> <p>Import data flow by importing <a href="https://raw.githubusercontent.com/samuvack/ldes-grar/main/NiFi_Flow.json">Apache NiFi configuration file</a>. See <a href="https://www.alasdairb.com/posts/importing-individual-flow-definitions-in-nifi/">this site for more info</a></p> </li> <li> <p>Add <a href="https://onboarding1.smartdataspace.beta-vlaanderen.be/building-units/by-page">LDES endpoint</a> in the LDES client</p> </li> <li> <p>Start Apache NiFi data flow</p> </li> </ol> <p><img src="../images/exampleTwoFlow.png" alt="" /></p> <ol> <li> <p>Open GraphDB on localhost:7200/sparql</p> </li> <li> <p>Run a semantic query with SPARQL</p> </li> </ol> <p><img src="../images/GrapDB.png" alt="" /></p> <p>Below you find an example of a SPARQL query. This query returns triples with information about the parcel LDES.</p> <div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">PREFIX</span><span class="w"> </span><span class="nn">adres:</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/id/adres/&gt;</span><span class="w">
</span><span class="kd">PREFIX</span><span class="w"> </span><span class="nn">gebouw:</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/id/?gebouweenheid/&gt;</span><span class="w">
</span><span class="kd">PREFIX</span><span class="w"> </span><span class="nn">gebouweenheid:</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#&gt;</span><span class="w">
</span><span class="kd">PREFIX</span><span class="w"> </span><span class="nn">prov:</span><span class="w"> </span><span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span><span class="w">
</span><span class="kd">PREFIX</span><span class="w"> </span><span class="nn">generiek:</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/ns/generiek#&gt;</span><span class="w">
</span><span class="kd">PREFIX</span><span class="w"> </span><span class="nn">rdf:</span><span class="w"> </span><span class="nl">&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;</span><span class="w">
</span><span class="n">construct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">prov:</span><span class="n">generatedAtTime</span><span class="w"> </span><span class="n">?generatedAtTime</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">rdf:</span><span class="n">type</span><span class="w"> </span><span class="n">?type</span><span class="w"> </span><span class="p">.</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">gebouweenheid:</span><span class="n">Gebouweenheid</span><span class="p">.</span><span class="n">geometrie</span><span class="w"> </span><span class="n">?geometrie</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">gebouweenheid:</span><span class="n">Gebouweenheid</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="n">?status</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">gebouweenheid:</span><span class="n">functie</span><span class="w"> </span><span class="n">?functie</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">generiek:</span><span class="n">lokaleIdentificator</span><span class="w"> </span><span class="n">?lokaleIdentificator</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">generiek:</span><span class="n">naamruimte</span><span class="w"> </span><span class="n">?naamruimte</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">generiek:</span><span class="n">versieIdentificator</span><span class="w"> </span><span class="n">?versieIdentificator</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="p">{</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#Gebouweenheid.adres&gt;</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/id/adres/1864311&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
    </span><span class="n">OPTIONAL</span><span class="p">{</span><span class="w">
    </span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">prov:</span><span class="n">generatedAtTime</span><span class="w"> </span><span class="n">?generatedAtTime</span><span class="w"> </span><span class="p">.</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">rdf:</span><span class="n">type</span><span class="w"> </span><span class="n">?type</span><span class="w"> </span><span class="p">.</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">gebouweenheid:</span><span class="n">Gebouweenheid</span><span class="p">.</span><span class="n">geometrie</span><span class="w"> </span><span class="n">?geometrie</span><span class="w"> </span><span class="p">.</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">gebouweenheid:</span><span class="n">Gebouweenheid</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="n">?status</span><span class="w"> </span><span class="p">.</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">gebouweenheid:</span><span class="n">functie</span><span class="w"> </span><span class="n">?functie</span><span class="w"> </span><span class="p">.</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">generiek:</span><span class="n">lokaleIdentificator</span><span class="w"> </span><span class="n">?lokaleIdentificator</span><span class="w"> </span><span class="p">.</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">generiek:</span><span class="n">naamruimte</span><span class="w"> </span><span class="n">?naamruimte</span><span class="w"> </span><span class="p">.</span><span class="w">
	</span><span class="n">?gebouweenheid</span><span class="w"> </span><span class="nn">generiek:</span><span class="n">versieIdentificator</span><span class="w"> </span><span class="n">?versieIdentificator</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="p">}}</span><span class="w">
</span></code></pre></div></div> <p>This SPARQL query returns multiple triples with information about building units. These triples can then be converted into an RDF file.</p> <p>The RDF file should be as follow:</p> <div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@prefix</span><span class="w"> </span><span class="nn">ns1:</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/ns/generiek#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">ns2:</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/ns/gebouw#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">ns3:</span><span class="w"> </span><span class="nl">&lt;http://www.w3.org/ns/prov#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">xsd:</span><span class="w"> </span><span class="nl">&lt;http://www.w3.org/2001/XMLSchema#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;https://data.vlaanderen.be/id/gebouweenheid/14635685&gt;</span><span class="w"> </span><span class="k">a</span><span class="w"> </span><span class="nn">ns2:</span><span class="n">Gebouweenheid</span><span class="w"> </span><span class="p">;</span><span class="w">
    </span><span class="nn">ns3:</span><span class="n">generatedAtTime</span><span class="w"> </span><span class="s">"2022-06-27T20:51:02+02:00"</span><span class="p">^^</span><span class="nn">xsd:</span><span class="n">dateTime</span><span class="w"> </span><span class="p">;</span><span class="w">    </span><span class="nn">ns2:</span><span class="n">Gebouweenheid</span><span class="p">.</span><span class="n">geometrie</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">;</span><span class="w">    </span><span class="nn">ns2:</span><span class="n">Gebouweenheid</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/id/conceptscheme/gerealiseerd&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="nn">ns2:</span><span class="n">functie</span><span class="w"> </span><span class="nl">&lt;https://data.vlaanderen.be/id/conceptscheme/nietGekend&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">    </span><span class="nn">ns1:</span><span class="n">lokaleIdentificator</span><span class="w"> </span><span class="s">"14635685"</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="nn">ns1:</span><span class="n">naamruimte</span><span class="w"> </span><span class="s">"https://data.vlaanderen.be/id/gebouweenheid"</span><span class="w"> </span><span class="p">;</span><span class="w">    </span><span class="nn">ns1:</span><span class="n">versieIdentificator</span><span class="w"> </span><span class="s">"2022-06-27T20:51:02+02:00"</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0"></p> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script> </body> </html>
